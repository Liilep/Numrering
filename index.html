function modifyText(text) {
    let lines = text.split('\n');
    let currentNumber = 1;  // Starta numreringen från 1
    let sectionNumber = 0;  // För att hålla reda på när en ny sektion börjar
    let lastRowNumber = 0;  // Håller reda på den senaste raden för att numrera nästa sektion korrekt

    for (let i = 0; i < lines.length; i++) {
        // Kontrollera om raden är en SeatAdd och inte en RowAdd
        if (lines[i].includes('SeatAdd') && !lines[i].includes('RowAdd')) {
            const match = lines[i].match(/Name=(\d+)/);
            if (match) {
                let name = parseInt(match[1]);

                // Första sektionen (Sektion 1)
                if (sectionNumber === 0) {
                    if (currentNumber <= 4) {
                        name = currentNumber; // Behåll numreringen som den är för de första 4 raderna
                    } else if (currentNumber >= 5 && currentNumber <= 8) {
                        name = 29 + (currentNumber - 5); // Raderna 5-8 får numrering 29-32
                    }
                }
                // För andra sektionen (Sektion 2)
                else if (sectionNumber === 1) {
                    if (currentNumber <= 4) {
                        name = lastRowNumber + 1; // Första 4 raderna får numrering från den sista raden i föregående sektion
                    } else if (currentNumber >= 5 && currentNumber <= 8) {
                        name = lastRowNumber + 5; // För de sista 4 raderna i varje sektion
                    }
                }
                // För tredje sektionen (Sektion 3)
                else if (sectionNumber === 2) {
                    if (currentNumber <= 4) {
                        name = lastRowNumber + 1; // Första 4 raderna får numrering från den sista raden i föregående sektion
                    } else if (currentNumber >= 5 && currentNumber <= 8) {
                        name = lastRowNumber + 5; // För de sista 4 raderna i varje sektion
                    }
                }
                // För fjärde sektionen (Sektion 4)
                else if (sectionNumber === 3) {
                    if (currentNumber <= 4) {
                        name = lastRowNumber + 1; // Första 4 raderna får numrering från den sista raden i föregående sektion
                    } else if (currentNumber >= 5 && currentNumber <= 8) {
                        name = lastRowNumber + 5; // För de sista 4 raderna i varje sektion
                    }
                }

                // Ersätt det gamla namnet med det nya
                lines[i] = lines[i].replace(/Name=\d+/, `Name=${name}`);

                // Uppdatera den senaste raden efter varje sektion
                lastRowNumber = name;

                // Öka räknaren för raderna
                currentNumber++;
            }
        }

        // När en ny sektion börjar (RowAdd), nollställ räknaren för rader
        if (lines[i].includes('RowAdd')) {
            sectionNumber++;
            currentNumber = 1; // Nollställ räknaren vid ny sektion
        }
    }

    return lines.join('\n');
}

                    
